!function(t){t.fn.stupidtable=function(r){return this.each(function(){var a=t(this);r=r||{},r=t.extend({},t.fn.stupidtable.default_sort_fns,r),a.data("sortFns",r),a.on("click.stupidtable","thead th",function(){t(this).stupidsort()})})},t.fn.stupidsort=function(r){var a=t(this),n=0,e=t.fn.stupidtable.dir,s=a.closest("table"),o=a.data("sort")||null;if(null!==o){a.parents("tr").find("th").slice(0,t(this).index()).each(function(){var r=t(this).attr("colspan")||1;n+=parseInt(r,10)});var i;return 1==arguments.length?i=r:(i=r||a.data("sort-default")||e.ASC,a.data("sort-dir")&&(i=a.data("sort-dir")===e.ASC?e.DESC:e.ASC)),s.trigger("beforetablesort",{column:n,direction:i}),s.css("display"),setTimeout(function(){var r=[],d=s.data("sortFns")[o],u=s.children("tbody").children("tr");u.each(function(a,e){var s=t(e).children().eq(n),o=s.data("sort-value");"undefined"==typeof o&&(o=s.text(),s.data("sort-value",o)),r.push([o,e])}),r.sort(function(t,r){return d(t[0],r[0])}),i!=e.ASC&&r.reverse(),u=t.map(r,function(t){return t[1]}),s.children("tbody").append(u),s.find("th").data("sort-dir",null).removeClass("sorting-desc sorting-asc"),a.data("sort-dir",i).addClass("sorting-"+i),s.trigger("aftertablesort",{column:n,direction:i}),s.css("display")},10),a}},t.fn.updateSortVal=function(r){var a=t(this);return a.is("[data-sort-value]")&&a.attr("data-sort-value",r),a.data("sort-value",r),a},t.fn.stupidtable.dir={ASC:"asc",DESC:"desc"},t.fn.stupidtable.default_sort_fns={"int":function(t,r){return parseInt(t,10)-parseInt(r,10)},"float":function(t,r){return parseFloat(t)-parseFloat(r)},string:function(t,r){return t.localeCompare(r)},"string-ins":function(t,r){return t=t.toLocaleLowerCase(),r=r.toLocaleLowerCase(),t.localeCompare(r)}}}(jQuery);